/**
 * üåê i18n Configuration ‚Äî Rule 19
 * NO hardcoded strings. Support Kitchen vs Service languages.
 * Backend UTC, Frontend `Europe/Malta`.
 */
import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

const en = {
    common: {
        save: 'Save',
        cancel: 'Cancel',
        delete: 'Delete',
        edit: 'Edit',
        add: 'Add',
        close: 'Close',
        search: 'Search',
        filter: 'Filter',
        loading: 'Loading...',
        noData: 'No data found',
        confirm: 'Confirm',
        back: 'Back',
        next: 'Next',
        submit: 'Submit',
        reset: 'Reset',
        export: 'Export',
        import: 'Import',
        refresh: 'Refresh',
        settings: 'Settings',
        status: 'Status',
        actions: 'Actions',
        view: 'View',
        download: 'Download',
        upload: 'Upload',
        yes: 'Yes',
        no: 'No',
        active: 'Active',
        inactive: 'Inactive',
        online: 'Online',
        offline: 'Offline',
        total: 'Total',
        error: 'Error',
        success: 'Success',
        warning: 'Warning',
    },
    nav: {
        dashboard: 'Dashboard',
        pos: 'Point of Sale',
        kds: 'Kitchen Display',
        inventory: 'Inventory',
        hr: 'Human Resources',
        crm: 'CRM',
        finance: 'Finance',
        reports: 'Reports',
        settings: 'Settings',
        admin: 'Admin',
        voice: 'Voice AI',
        studio: 'Studio',
        web: 'Web Builder',
        radar: 'Market Radar',
    },
    pos: {
        newOrder: 'New Order',
        openOrders: 'Open Orders',
        table: 'Table',
        takeaway: 'Takeaway',
        delivery: 'Delivery',
        splitBill: 'Split Bill',
        payNow: 'Pay Now',
        printReceipt: 'Print Receipt',
        holdOrder: 'Hold Order',
        fireOrder: 'Fire Order',
        discount: 'Discount',
        subtotal: 'Subtotal',
        tax: 'VAT',
        grandTotal: 'Grand Total',
        cashPayment: 'Cash',
        cardPayment: 'Card',
        mobilePayment: 'Mobile Pay',
        changeAmount: 'Change',
        tipAmount: 'Tip',
        kiosk: {
            welcome: 'Welcome! Tap to order.',
            idle: 'Touch to begin',
        },
    },
    inventory: {
        items: 'Items',
        recipes: 'Recipes',
        stockCount: 'Stock Count',
        wasteLog: 'Waste Log',
        transfers: 'Transfers',
        suppliers: 'Suppliers',
        purchaseOrders: 'Purchase Orders',
        lowStock: 'Low Stock Alert',
        quantity: 'Quantity',
        unit: 'Unit',
        cost: 'Cost',
        category: 'Category',
    },
    hr: {
        employees: 'Employees',
        shifts: 'Shifts',
        leave: 'Leave',
        payroll: 'Payroll',
        performance: 'Performance',
        documents: 'Documents',
        clockIn: 'Clock In',
        clockOut: 'Clock Out',
        onBreak: 'On Break',
        overtime: 'Overtime',
    },
    crm: {
        guests: 'Guests',
        campaigns: 'Campaigns',
        loyalty: 'Loyalty',
        feedback: 'Feedback',
        churnRisk: 'Churn Risk',
        vip: 'VIP',
        tasteProfile: 'Taste Profile',
        totalVisits: 'Total Visits',
        totalSpent: 'Total Spent',
    },
    kds: {
        newTicket: 'NEW',
        inProgress: 'IN PROGRESS',
        ready: 'READY',
        served: 'SERVED',
        bump: 'BUMP',
        recall: 'RECALL',
        rush: 'RUSH',
        allDay: 'All Day',
        courseHold: 'HOLD',
        courseFire: 'FIRE',
    },
    admin: {
        featureFlags: 'Feature Flags',
        haccp: 'HACCP Checklists',
        dataExport: 'Data Export',
        setupWizard: 'Setup Wizard',
        kiosk: 'Kiosk Mode',
        floorplan: 'Floor Plan',
        gamification: 'Staff Gamification',
        ecoOs: 'Carbon Footprint',
        plugins: 'Plugin Marketplace',
        pricing: 'Dynamic Pricing',
        competitors: 'Competitor Monitor',
        audit: 'Audit Trail',
    },
    errors: {
        networkError: 'Network error. Please check your connection.',
        serverError: 'Server error. Please try again later.',
        unauthorized: 'Session expired. Please log in again.',
        forbidden: 'You do not have permission to perform this action.',
        notFound: 'The requested resource was not found.',
        validationError: 'Please check your input and try again.',
        offlineQueued: 'You are offline. This action has been queued.',
    },
};

// Maltese translations (partial ‚Äî extend as needed)
const mt: typeof en = {
    ...en,
    common: {
        ...en.common,
        save: 'Issejvja',
        cancel: 'Ikkanƒãella',
        delete: 'Iƒßassar',
        edit: 'Editja',
        add: '≈ªid',
        close: 'Agƒßlaq',
        search: 'Fittex',
        loading: 'Qed jillowdja...',
        noData: 'Ebda data ma nstabet',
        confirm: 'Ikkonferma',
        back: 'Lura',
        next: 'Li jmiss',
        submit: 'Issottometti',
    },
    nav: {
        ...en.nav,
        dashboard: 'Dashboard',
        pos: 'Punt ta\' Bejgƒß',
        kds: 'Display tal-Kƒãina',
        inventory: 'Inventarju',
        hr: 'Ri≈ºorsi Umani',
        reports: 'Rapporti',
        settings: 'Settings',
    },
    pos: {
        ...en.pos,
        newOrder: 'Ordni ƒ†dida',
        table: 'Mejda',
        takeaway: 'Takeaway',
        delivery: 'Delivery',
        splitBill: 'Qassam il-Kont',
        payNow: 'ƒ¶allas Issa',
        printReceipt: 'Ipprinta r-Riƒãevuta',
        subtotal: 'Subtotal',
        tax: 'VAT',
        grandTotal: 'Total ƒ†enerali',
        cashPayment: 'Flus',
        cardPayment: 'Karta',
    },
    errors: {
        ...en.errors,
        networkError: '≈ªball fin-network. Iƒãƒãekkja l-konnessjoni tiegƒßek.',
        serverError: '≈ªball fis-server. Erƒ°a\' pprova.',
        unauthorized: 'Sessjoni skaduta. Erƒ°a\' idƒßol.',
    },
};

i18n
    .use(initReactI18next)
    .init({
        resources: {
            en: { translation: en },
            mt: { translation: mt },
        },
        lng: localStorage.getItem('restin_language') || 'en',
        fallbackLng: 'en',
        interpolation: {
            escapeValue: false,
        },
        // Flat key separator for nested objects
        keySeparator: '.',
        // Don't load missing translations from backend
        saveMissing: false,
    });

export default i18n;
export { en,mt };
